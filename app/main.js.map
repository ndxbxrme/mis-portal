{
  "version": 3,
  "file": "main.js",
  "sourceRoot": "../src/",
  "sources": [
    "main.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "'use strict'\r\n\r\n{app, BrowserWindow, ipcMain, dialog} = require 'electron'\r\n{autoUpdater} = require 'electron-updater'\r\nurl = require 'url'\r\npath = require 'path'\r\nsettings = require './settings'\r\nfileSystem = require './file-system'\r\nwebApp = require './web-app'\r\nconfig = require './config'\r\n\r\nappReady = false\r\nbadKey = true\r\n\r\nmainWindow = null\r\ninit = ->\r\n  badKey = settings.badKey()\r\n  console.log 'got key', badKey\r\n  await settings.load()\r\n  console.log 'loaded settings'\r\n  await fileSystem.init()\r\n  console.log 'initted filestystem'\r\n  ready()\r\ninit()\r\nalertBadKey = ->\r\n  new Promise (resolve) ->\r\n    dialog.showMessageBox\r\n      type: 'error'\r\n      title: 'Key Error'\r\n      message: 'There was a problem with your MIS Portal key'\r\n    , ->\r\n      app.exit()\r\nready = ->\r\n  if settings.loaded() and appReady\r\n    if badKey\r\n      await alertBadKey()\r\n    config.init()\r\n    #BrowserWindow.addExtension path.join app.getAppPath(), '\\\\extensions\\\\gbkeegbaiigmenfmjfclcdgdpimamgkj\\\\127.2195.2197_0'\r\n    autoUpdater.checkForUpdatesAndNotify()\r\n    BrowserWindow.addDevToolsExtension path.join app.getAppPath(), '\\\\extensions\\\\ighdmehidhipcmcojjgiloacoafjmpfk\\\\0.10.9_0'\r\n    mainWindow = new BrowserWindow\r\n      width: settings.get 'mainWindow.width'\r\n      height: settings.get 'mainWindow.height'\r\n      x: settings.get 'mainWindow.x'\r\n      y: settings.get 'mainWindow.y'\r\n      webPreferences:\r\n        plugins: true\r\n    config.setMainWindow mainWindow\r\n    config.setWebApp webApp\r\n    config.setFileSystem fileSystem\r\n    webApp.setMainWindow mainWindow\r\n    webApp.setFileSystem fileSystem\r\n    mainWindow.on 'close', (event) ->\r\n      bounds = mainWindow.getBounds()\r\n      ['width','height','x','y'].forEach (setting) ->\r\n        settings.set 'mainWindow.' + setting, bounds[setting]\r\n      settings.save()\r\n      event.preventDefault()\r\n      mainWindow.hide()\r\n    mainWindow.on 'closed', ->\r\n      mainWindow = null\r\n    mainWindow.webContents.on 'new-window', (event) ->\r\n      event.defaultPrevented = true\r\n    mainWindow.loadURL settings.portalUrl()\r\n    mainWindow.openDevTools()\r\nshouldQuit = app.makeSingleInstance (commandLine, workingDirectory) ->\r\n  if mainWindow\r\n    mainWindow.restore() if mainWindow.isMinimized()\r\n    mainWindow.focus()\r\nif shouldQuit\r\n  app.quit()\r\n  return\r\napp.on 'ready', ->\r\n  appReady = true\r\n  ready()\r\napp.on 'window-all-closed', ->\r\n  process.platform is 'darwin' or app.quit()\r\napp.on 'activiate', ->\r\n  mainWindow or ready()"
  ]
}